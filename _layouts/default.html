<!DOCTYPE html>
<html lang="{{ site.lang | default: 'zh-CN' }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO Meta Tags -->
    <title>{% if page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
    <meta name="keywords" content="{{ page.keywords | default: 'Python, C++, 信息技术, 教师招聘, 编程教程, 算法, 数据结构' }}">
    <meta name="author" content="{{ site.author }}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ page.url | absolute_url }}">
    <meta property="og:title" content="{% if page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}">
    <meta property="og:description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
    <meta property="og:image" content="{{ '/assets/images/og-image.png' | absolute_url }}">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ page.url | absolute_url }}">
    <meta property="twitter:title" content="{% if page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}">
    <meta property="twitter:description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
    <meta property="twitter:image" content="{{ '/assets/images/og-image.png' | absolute_url }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ '/assets/images/favicon.ico' | relative_url }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/apple-touch-icon.png' | relative_url }}">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/syntax.css' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/navigation-fix.css' | relative_url }}">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Jekyll SEO Tag -->
    {% seo %}
    
    <!-- Jekyll Feed -->
    {% feed_meta %}
    
    <!-- Custom Head -->
    {% if page.custom_head %}{{ page.custom_head }}{% endif %}
</head>
<body class="{% if page.body_class %}{{ page.body_class }}{% endif %}">
    <!-- Skip to main content -->
    <a href="#main-content" class="skip-link">跳转到主要内容</a>
    
    <!-- Header -->
    {% include header.html %}
    
    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        {% if page.layout != 'home' %}
            {% include sidebar.html %}
        {% endif %}
        
        <!-- Main Content -->
        <main id="main-content" class="main-content {% if page.layout == 'home' %}home-content{% endif %}" role="main">
            {{ content }}
        </main>
    </div>
    
    <!-- Footer -->
    {% include footer.html %}
    
    <!-- Search Modal -->
    {% include search-modal.html %}
    
    
    <!-- Scripts -->
    <script src="https://unpkg.com/lunr@2.3.9/lunr.min.js"></script>
    <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/search.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/search-enhancements.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/code-copy.js' | relative_url }}"></script>
    
    <!-- Custom Scripts -->
    {% if page.custom_js %}{{ page.custom_js }}{% endif %}
    
    <!-- Analytics -->
    {% if site.google_analytics %}
        <!-- Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '{{ site.google_analytics }}');
        </script>
    {% endif %}
</body>
</html>